<!-- flags: --js-flags=--allow-natives-syntax -->

<body>
    <script>
        let embed = document.createElement("embed"); // <embed> has property interceptor
        embed.type = "text/html"; // let embed.onload() is called on append

        let o = { __proto__: embed }; // add object which has property interceptor to prototype chain

        embed.onload = () => {
            // embed.onload() is executed asynchronously
            o.a = 1; // first Object::AddDataProperty()
        }
        document.body.append(embed); // call embed.onload()
        o.a = 2; // second Object::AddDataProperty()

        % DebugPrint(o);
    </script>
</body>
